<div class="bg-white shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
  <div class="grid grid-cols-12 h-64">
    <div class="col-span-6 xs:col-span-8 sm:col-span-5 my-auto   ">
      <div class="relative h-full object-cover">
        <div class="absolute inset-0 p-1 ">
          <%=primary_photo(venue)%>
        </div>
      </div>
    </div>
    <div class="col-span-6 xs:col-span-4 md:col-span-7 px-2 py-4">
      <h3 class="text-sm md:text-xl font-semibold mb-1 hover:text-indigo-600 transition">
        <%= link_to venue.name, venue_path(venue), data: {turbo_frame: "_top"} %>
      </h3>
      <div class="flex items-center">
        <div data-controller="rating-display" 
          data-rating-display-rating-value="<%= venue.avg_rating || 0 %>" 
          data-rating-display-max-stars-value="6">
          <div class="flex gap-1 ">
            <div data-rating-display-target="starContainer" class="content-center text-yellow-400 text-xs md:text-sm"></div>
            <div data-rating-display-target="ratingValue" class="text-xs md:text-sm"></div>
          </div>
        </div>
      </div>
      <div class="flex items-center  text-gray-500 mt-2">
        <i class="fas fa-map-marker-alt mr-2 text-indigo-500"></i>
        <span class="hidden sm:flex sm:text-sm">
          <%=venue.abbreviated_address%>
        </span>
        <span class="text-xs sm:hidden">
          <%=venue.city%>
        </span>
      </div>
      <div class="flex flex-wrap gap-1 md:gap-2 mt-2 md:mt-3">
        <% venue.main_types.each do |category| %>
          <span class="px-1 md:px-2 md:py-1  bg-indigo-100 text-indigo-800 text-xs md:text-sm rounded-full"><%= category.name %></span>
        <% end %>
      </div>
      <% if venue.reviews.any? %>
        <p class="hidden text-gray-600 sm:text-sm mt-2 line-clamp-2">
          "<%= venue.reviews.first.content %>"
        </p>
      <% end %>
    </div>
  </div>
</div>